{% extends "base.html" %}
{% load render_table from django_tables2 %}

{% block header %}
{{ header|safe }}
{% endblock %}

{% block title %}
{% if filter %}
    Filtered Courses
    {% else %}
    All Courses
{% endif %}
{% endblock %}

{% block content %}

{% if filter %}
    <form method='GET'>
        {{ filter.form }}
        <input type='submit' value='Filter' />
        |Displaying {{ filter.qs.count }} of {{ filter.queryset.count }} items.|
        <a href='{{ request.path }}' >Clear</a>
    </form>
    {% else %}
        <h3>Want to filter? <a href={% url "courses_filterable" %}>click here!</a></h3>
{% endif %}

{% if filter.data.multi and filter.qs.count != filter.queryset.count %}
<h3>Courses matching <i>"{{ filter.data.multi }}"</i></h3>
{% endif %}

{% if table %}
    {% render_table table %}
{% endif %}

{% endblock %}
